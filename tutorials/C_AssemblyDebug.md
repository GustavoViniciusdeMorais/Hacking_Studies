# Configuring Debian to Write, Compile, and Debug C Code

## Prerequisites
Before starting, ensure your system is up-to-date. Open a terminal and run:

```sh
sudo apt update
sudo apt upgrade
```

## Step 1: Install Essential Tools

### Install GCC (GNU Compiler Collection)
GCC is a compiler system supporting various programming languages, including C.

```sh
sudo apt install build-essential
```

### Install GDB (GNU Debugger)
GDB is a debugger that allows you to see what is going on inside a program while it executes.

```sh
sudo apt install gdb
```

### Install Nano Editor
Nano is a simple, user-friendly text editor.

```sh
sudo apt install nano
```

## Step 2: Write a Simple C Program

Create a file named `add_numbers.c` using the nano editor:

```sh
nano add_numbers.c
```

Add the following C code to the file:

```c
#include <stdio.h>

int main() {
    int num1, num2, sum;

    printf("Enter two integers: ");
    scanf("%d %d", &num1, &num2);

    sum = num1 + num2;

    printf("%d + %d = %d\n", num1, num2, sum);

    return 0;
}
```

Save the file by pressing `Ctrl + O`, then press `Enter`, and exit by pressing `Ctrl + X`.

## Step 3: Compile the C Program

To compile the C program, use the GCC compiler:

```sh
gcc -o add_numbers add_numbers.c
```

This command will produce an executable file named `add_numbers`.

## Step 4: Run the Program

Run the compiled program:

```sh
./add_numbers
```

You should see an output similar to this:

```
Enter two integers: 5 7
5 + 7 = 12
```

## Step 5: Print the Assembly Code

To view the assembly code generated by the compiler, use the `-S` flag with GCC:

```sh
gcc -S add_numbers.c
```

This command generates an assembly code file named `add_numbers.s`. You can view the assembly code using the nano editor:

```sh
nano add_numbers.s
```

### Example Assembly Code Dump

Here is the assembly instructions to perform the addition of two numbers:

```assembly
movl    -20(%rbp), %edx     # Load num1 into edx
movl    -24(%rbp), %eax     # Load num2 into eax
addl    %edx, %eax          # Add num1 and num2
movl    %eax, -28(%rbp)     # Store the result in sum
```

## Step 6: Debug the C Program with GDB

### Compile with Debugging Information
To enable debugging, compile the C program with the `-g` flag:

```sh
gcc -g -o add_numbers add_numbers.c
```

### Start GDB
Run the program within GDB:

```sh
gdb ./add_numbers
```

### Basic GDB Commands
- **Run the program**: `run`
- **Set a breakpoint**: `break main` (sets a breakpoint at the beginning of `main` function)
- **Step through the code**: `step` (executes the next line of code)
- **Print variable values**: `print variable_name` (e.g., `print num1`)
- **Continue execution**: `continue`
- **Exit GDB**: `quit`

### Example GDB Session
1. Set a breakpoint at the beginning of the `main` function:

    ```sh
    (gdb) break main
    ```

2. Run the program:

    ```sh
    (gdb) run
    ```

3. Step through the program line by line:

    ```sh
    (gdb) step
    ```

4. Print the value of variables:

    ```sh
    (gdb) print num1
    ```

5. Continue execution until the next breakpoint or program termination:

    ```sh
    (gdb) continue
    ```

6. Exit GDB:

    ```sh
    (gdb) quit
    ```

---

That's it! You now have a fully configured Debian OS for writing, compiling, and debugging C code using the `nano` editor and viewing the generated assembly code. Happy coding!